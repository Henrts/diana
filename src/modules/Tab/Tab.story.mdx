import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import { TabGroupExample } from "./TabGroup.story";
import Tab from "./Tab";

<Meta title="Components| Tab" />

# Tab

The `Tab` component allows the user to navigate to a specific section of the application.
`Tab`s are part of a `TabGroup` and should not be used standalone.

### Tab

<Preview>
  <Story name="Tab">
    <Tab>Tab</Tab>
  </Story>
</Preview>

### Selected tab

<Preview>
  <Story name="Selected tab">
    <Tab id={"selected"} selectedTab={"selected"}>
      Tab
    </Tab>
  </Story>
</Preview>

### Disabled Tab

<Preview>
  <Story name="Disabled Tab">
    <Tab disabled>Tab</Tab>
  </Story>
</Preview>

### Available props

<table width="100%">
  <thead>
    <tr>
      <th>Prop</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>disabled (optional)</td>
      <td>boolean</td>
      <td>A flag indicating whether this tab can be selected</td>
    </tr>
    <tr>
      <td>id (optional)</td>
      <td>string</td>
      <td>The Tab's id. A randomly generated id is used if none is passed.</td>
    </tr>
    <tr>
      <td>selectedTab (optional)</td>
      <td>string</td>
      <td>
        The Tab compares <i>selectedTab</i> to its own id to determine whether
        it is selected. <br /> This prop should not be passed manually, as it is
        injected by the Tab's <i>TabGroup</i>.
      </td>
    </tr>
    <tr>
      <td>onTabClick</td>
      <td>function</td>
      <td>
        Callback that is invoked whenever the tab is clicked on (given
        <i> isDisabled</i> is <i>false</i>)
      </td>
    </tr>
  </tbody>
</table>

### Extendable styles

<table width="100%">
  <thead>
    <tr>
      <th>Style Name</th>
      <th>@selectors</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tab</td>
      <td></td>
      <td>Style of the tab element</td>
    </tr>
    <tr>
      <td></td>
      <td>.selected</td>
      <td>Style of the tab element when it is selected</td>
    </tr>
    <tr>
      <td></td>
      <td>.disabled</td>
      <td>Style of the tab element when it is disabled</td>
    </tr>
  </tbody>
</table>

# TabGroup

### TabGroup

A `TabGroup` consists of a set of `Tab`s.
It is responsible for passing the necessary props to every child `Tab` and for handling changes to the selected option.

The following component is used for the different examples of a `TabGroup` described below:

```javascript
const TabGroupExample: React.FC<IProps> = ({ selectedTab, ...props }) => {
  const [selected, setSelected] = useState(selectedTab);

  return (
    <TabGroup
      selectedTab={selected}
      onTabClick={newTab => setSelected(newTab)}
      {...props}
    >
      <Tab id="tab1">Tab 1</Tab>
      <Tab id="tab2">Tab 2</Tab>
      <Tab id="tab3">Tab 3</Tab>
    </TabGroup>
  );
};
```

### TabGroup

<Preview>
  <Story name="TabGroup">
    <TabGroupExample selectedTab="tab1" />
  </Story>
</Preview>

### Disabled TabGroup

<Preview>
  <Story name="Disabled TabGroup">
    <TabGroupExample selectedTab="tab1" disabled />
  </Story>
</Preview>

### Available props

<table width="100%">
  <thead>
    <tr>
      <th>Prop</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>disabled (optional)</td>
      <td>boolean</td>
      <td>
        A flag indicating whether the <i>Tabs</i> can be selected
        <br />
        This prop will be injected into each <i>Tab</i>.
      </td>
    </tr>
    <tr>
      <td>selectedTab (optional)</td>
      <td>string</td>
      <td>
        The id of the selected <i>Tab</i>.
        <br />
        This prop will be injected into each child <i>Tab</i>.
      </td>
    </tr>
    <tr>
      <td>onTabClick</td>
      <td>function</td>
      <td>
        Callback that is passed on to each child <i>Tab</i> and invoked whenever
        a <i>Tab</i> inside the <i>TabGroup</i> is clicked on (given
        <i> disabled</i> is <i>false</i>).
        <br />
        This callback receives the newly selected tab id as its only parameter.
      </td>
    </tr>
  </tbody>
</table>

### Extendable styles

<table width="100%">
  <thead>
    <tr>
      <th>Style Name</th>
      <th>@selectors</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tabGroup</td>
      <td></td>
      <td>
        Style of the <i>ul</i> element that wraps the tabs
      </td>
    </tr>
  </tbody>
</table>
