import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import { TabGroupRefExample } from "./TabGroup.story";
import TabGroup from "./TabGroup";
import Tab from "./Tab";

<Meta title="Components| Tab" />

# Tab

The `Tab` component allows the user to navigate to a specific section of the application.
`Tab`s are part of a `TabGroup` and should not be used standalone.

### Tab

<Preview>
  <Story name="Tab">
    <Tab label="Tab" />
  </Story>
</Preview>

### Selected tab

<Preview>
  <Story name="Selected tab">
    <div style={{ width: "60px" }}>
      <Tab label="Tab" index={0} selectedTab={0} />
    </div>
  </Story>
</Preview>

### Disabled Tab

<Preview>
  <Story name="Disabled Tab">
    <Tab label="Tab" disabled />
  </Story>
</Preview>

### Available props

<table width="100%">
  <thead>
    <tr>
      <th>Prop</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>children (optional)</td>
      <td>string | JSX.Element</td>
      <td>
        If any children are passed, they will be rendered inside the parent
        <i> TabGroup</i>'s <i>section</i> element
      </td>
    </tr>
    <tr>
      <td>disabled (optional)</td>
      <td>boolean</td>
      <td>A flag indicating whether this tab can be selected</td>
    </tr>
    <tr>
      <td>index (optional)</td>
      <td>number</td>
      <td>
        The Tab's index.
        <br /> This prop should not be passed manually, as it is injected by the
        Tab's <i>TabGroup</i>.
      </td>
    </tr>
    <tr>
      <td>label</td>
      <td>string | JSX.Element</td>
      <td>Content to be shown inside the tab itself</td>
    </tr>
    <tr>
      <td>selectedTab (optional)</td>
      <td>string</td>
      <td>
        The Tab compares <i>selectedTab</i> to its own index to determine
        whether it is selected. <br /> This prop should not be passed manually,
        as it is injected by the Tab's <i>TabGroup</i>.
      </td>
    </tr>
    <tr>
      <td>onTabClick</td>
      <td>function</td>
      <td>
        Callback that is invoked whenever the tab is clicked on (given
        <i> isDisabled</i> is <i>false</i>).
        <br /> This prop should not be passed manually, as it is injected by the
        Tab's <i>TabGroup</i>.
      </td>
    </tr>
  </tbody>
</table>

### Extendable styles

<table width="100%">
  <thead>
    <tr>
      <th>Style Name</th>
      <th>@selectors</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tab</td>
      <td></td>
      <td>Style of the tab element</td>
    </tr>
    <tr>
      <td></td>
      <td>.selected</td>
      <td>Style of the tab element when it is selected</td>
    </tr>
    <tr>
      <td></td>
      <td>.disabled</td>
      <td>Style of the tab element when it is disabled</td>
    </tr>
  </tbody>
</table>

# TabGroup

### TabGroup

The `TabGroup` consists of a set of `Tab`s. It is responsible for passing the necessary props to every child `Tab`.

If no `selectedTab` prop is passed, it will control its own state, i.e. it will handle selected Tab changes internally.

If the `selectedTab` prop is passed, it will be the responsibility of the parent component to handle state changes by making use of the `onTabClick` callback and changing `selectedTab` accordingly.

Aside from the `Tab`s themselves, the `TabGroup` also renders a tab panel. This is a `section` element with the selected tab's `children` if it contains any.

### TabGroup

<Preview>
  <Story name="TabGroup">
    <TabGroup initialTab={2}>
      <Tab label="Tab 1" />
      <Tab label="Tab 2" />
      <Tab label="Tab 3 with text" />
      <Tab label="Tab 1" />
      <Tab label="Tab 2" />
      <Tab label="Tab 3 with text" />
      <Tab label="Tab 1" />
      <Tab label="Tab 2" />
      <Tab label="Tab 3 with text" />
      <Tab label="Tab 1" />
      <Tab label="Tab 2" />
      <Tab label="Tab 3 with text" />
    </TabGroup>
  </Story>
</Preview>

### Disabled TabGroup

<Preview>
  <Story name="Disabled TabGroup">
    <TabGroup disabled>
      <Tab label="Tab 1" />
      <Tab label="Tab 2" />
      <Tab label="Tab 3" />
    </TabGroup>
  </Story>
</Preview>

### Without animation

<Preview>
  <Story name="Without animation">
    <TabGroup animate={false}>
      <Tab label="Tab 1" />
      <Tab label="Tab 2" />
      <Tab label="Tab 3" />
    </TabGroup>
  </Story>
</Preview>

### TabGroup with section for selected tab's content

<Preview>
  <Story name="TabGroup with section for selected tab content">
    <TabGroup >
      <Tab label="Tab 1">Simple text</Tab>
      <Tab label="Tab 2">
        <p>A cheeky paragraph</p>
      </Tab>
      <Tab label="Tab 3">
        <div>
          <h3>A complex component</h3>
          <img src="https://c.ststat.net/content/EntImg/Tour/complex--1703017950-300x300.jpg" />
        </div>
      </Tab>
    </TabGroup>
  </Story>
</Preview>

### With ref

The `TabGroup`'s selected tab can alternatively be changed via `ref`, although this should be avoided in most cases.

<Story name="TabGroup with ref">
  <TabGroupRefExample />
</Story>

### Available props

<table width="100%">
  <thead>
    <tr>
      <th>Prop</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>disabled (optional)</td>
      <td>boolean</td>
      <td>
        A flag indicating whether the <i>Tabs</i> can be selected
        <br />
        This prop will be injected into each <i>Tab</i>.
      </td>
    </tr>
    <tr>
      <td>initialTab (optional)</td>
      <td>number</td>
      <td>
        The index of the <i>Tab</i> that should be selected initially.
      </td>
    </tr>
    <tr>
      <td>selectedTab (optional)</td>
      <td>number</td>
      <td>
        The index of the selected <i>Tab</i>.
        <br />
        This prop will be injected into each child <i>Tab</i>.
      </td>
    </tr>
    <tr>
      <td>onTabClick</td>
      <td>function</td>
      <td>
        Callback that is passed on to each child <i>Tab</i> and invoked whenever
        a <i>Tab</i> inside the <i>TabGroup</i> is clicked on (given
        <i> disabled</i> is <i>false</i>).
        <br />
        This callback receives the newly selected tab's index as its only parameter.
      </td>
    </tr>
    <tr>
      <td>animate (optional) : default true</td>
      <td>boolean</td>
      <td>
        It will animate the element when selecting a tab
      </td>
    </tr>
  </tbody>
</table>

### Extendable styles

<table width="100%">
  <thead>
    <tr>
      <th>Style Name</th>
      <th>@selectors</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tabGroup</td>
      <td></td>
      <td>
        Style of the <i>ul</i> element that wraps the tabs
      </td>
    </tr>
    <tr>
      <td>tabPanel</td>
      <td></td>
      <td>
        Style of the <i>section</i> element that contains the selected tab's
        content (<i>children</i>)
      </td>
    </tr>
  </tbody>
</table>
